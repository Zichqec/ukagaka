<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zi's Ukagaka Space</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Zi's Ukagaka Space"/>
    <meta property="og:description" content="Zi's hub for ukagaka"/>
    <meta property="og:url" content="https://zichqec.github.io/ukagaka/"/>
    <meta property="og:image" content="https://ukagaka.zichqec.com/banner.png"/>
</head>

<body>
<nav><div id="navbar" class="navbar"></div></nav>

<article>
<h1>Tag Testing Index</h1>

<p>Here are all of the ghosts I've released! I've made many ghosts in many different styles, from full on story ghosts, to desktop buds, to functional ghosts, and so much more. I'm sure you can find something you like here!</p>

<p>Please note: this page is <b>spoiler free</b>! However, if you click on the "read more" links, you will be taken to the full page for that ghost. The full pages may have spoilers on them for hidden features, or things that may be best to experience for yourself first. If you want to play with the ghosts without spoilers, download them from this page!</p>

<p>Also note: I have been making ghosts for multiple years now, and the quality of my work in all areas (code, art, writing, general premise) has greatly improved over time. I generally don't recommend any of my ghosts from before 2022, unless they're purely functional ones (like FLUX). So if you're looking for my better ghosts, keep an eye on the initial release dates!</p>

<p>These links in the top section act as a quick index that will jump you to the different entries on this list.</p>
<p>
<div id="quick_index"></div>

<p>Filter list: <span id="filtercount">(X of X shown)</span><br>

	<div id="tagfilterbuttons">
		<button class="tagbtnclear" onclick="filterSelection('clear')">Clear filter</button>
		<button class="tagbtn" onclick="filterSelection('2022')">2022</button>
		<button class="tagbtn" onclick="filterSelection('2023')">2023</button>
		<button class="tagbtn" onclick="filterSelection('my_art')">my art</button>
		<button class="tagbtn" onclick="filterSelection('ghost_jam')">ghost jam</button>
		<button class="tagbtn" onclick="filterSelection('collab')">collab</button>
	</div>
</p>
</p>

</article>

<div id="full_index"></div>

<footer><div id="footer" class="footer"></div></footer>

<script src="../scripts/misc.js"></script>
<script src="../scripts/navbar.js"></script>
<script src="../scripts/footer.js"></script>
<script src="../scripts/credits.js"></script>
<script src="../scripts/tag_testing_details.js"></script>
<script src="../scripts/index_maker.js"></script>
<script src="../scripts/link_fix.js"></script>

<script>
let FilterAdd = [];
let FilterRemove = [];
let total_count = 0;
let shown_count = 0;


filterSelection("clear")
function filterSelection(tag, operation)
{
	let elements = document.getElementsByClassName("TagFilter")
	if (tag == "clear")
	{
		FilterAdd = [];
		FilterRemove = [];
	}
	else
	{
		let addpos = FilterAdd.indexOf(tag)
		let rempos = FilterRemove.indexOf(tag)
		if (rempos != -1)
		{
			FilterRemove.splice(rempos, 1)
		}
		else if (addpos != -1)
		{
			FilterAdd.splice(addpos, 1)
			FilterRemove.push(tag);
		}
		else
		{
			FilterAdd.push(tag);
		}
	}
	
	
	console.log(`tag ${tag}`);
	console.log(`FilterAdd ${FilterAdd}`);
	console.log(`FilterRemove ${FilterRemove}`);
	let elementlist = "";
	for (let i = 0; i < elements.length; i++)
	{
		if (i > 0) elementlist += ", ";
		elementlist += elements[i].id;
	}
	
	console.log(`elementlist ${elementlist}`);
	total_count = 0;
	shown_count = 0;
	
	//Refresh the display
	for (let i = 0; i < elements.length; i++)
	{
		console.log(`Loop ${i}`);
		classes = elements[i].className.split(" ");
		console.log(`Classes ${classes}`);
		for (let ii = 0; ii < classes.length; ii++)
		{
			if (classes[ii] == "TFShow")
			{
				classes.splice(ii, 1);
				console.log(`hide element ${ii}`);
				break;
			}
		}
		
		let to_show = 1;
		console.log(`Time to filter!`);
		for (let ii = 0; ii < FilterAdd.length; ii++)
		{
			if (classes.indexOf(FilterAdd[ii]) == -1 && FilterAdd.length > 0)
			{
				console.log(`Missing a tag, removing`);
				to_show = 0;
				break;
			}
		}
		for (let ii = 0; ii < FilterRemove.length; ii++)
		{
			if (classes.indexOf(FilterRemove[ii]) != -1)
			{
				console.log(`Found in remove list, removing`);
				to_show = 0;
				break;
			}
		}
		
		if (to_show == 1)
		{
			classes.push("TFShow");
			shown_count++;
		}
		total_count++;
		console.log(`Classes ${classes}`);
		console.log(` `);
		elements[i].className = classes.join(" ");
	}
	
	let elementsquickindex = document.getElementsByClassName("TagFilterQuickIndex")
	for (let i = 0; i < elementsquickindex.length; i++)
	{
		console.log(`Loop ${i}`);
		classes = elementsquickindex[i].className.split(" ");
		console.log(`Classes ${classes}`);
		for (let ii = 0; ii < classes.length; ii++)
		{
			if (classes[ii] == "TFQHide")
			{
				classes.splice(ii, 1);
				console.log(`hide element ${ii}`);
				break;
			}
		}
		
		let to_hide = 0;
		console.log(`Time to filter!`);
		for (let ii = 0; ii < FilterAdd.length; ii++)
		{
			if (classes.indexOf(FilterAdd[ii]) == -1 && FilterAdd.length > 0)
			{
				console.log(`Missing a tag, hiding`);
				to_hide = 1;
				break;
			}
		}
		for (let ii = 0; ii < FilterRemove.length; ii++)
		{
			if (classes.indexOf(FilterRemove[ii]) != -1)
			{
				console.log(`Found in remove list, hiding`);
				to_hide = 1;
				break;
			}
		}
		//NOTE: currently, despite being grayed out they are still clicky... oh well?
		if (to_hide == 1)
		{
			classes.push("TFQHide");
		}
		console.log(`Classes ${classes}`);
		console.log(` `);
		elementsquickindex[i].className = classes.join(" ");
	}
	
	document.getElementById('filtercount').innerHTML = `(${shown_count} of ${total_count} shown)`;
}

let buttoncontainer = document.getElementById("tagfilterbuttons");
let buttons = buttoncontainer.getElementsByClassName("tagbtn");

for (let i = 0; i < buttons.length; i++)
{
	buttons[i].addEventListener("click", function() {
		if (this.className.indexOf("FilterRemove") != -1) this.className = this.className.replace(" FilterRemove","");
		else if (this.className.indexOf("FilterAdd") != -1) this.className = this.className.replace(" FilterAdd"," FilterRemove");
		else
		{
			this.className += " FilterAdd";
		}	
	});
}

let clearbutton = buttoncontainer.getElementsByClassName("tagbtnclear")[0];

clearbutton.addEventListener("click", function() {
	for (let i = 0; i < buttons.length; i++)
	{
		console.log(`button ${i}`);
		buttons[i].className = buttons[i].className.replace(" FilterAdd","");
		buttons[i].className = buttons[i].className.replace(" FilterRemove","");
	}
});

document.getElementById('filtercount').innerHTML = `(${shown_count} of ${total_count} shown)`;

</script>

</body>
</html>